<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HARSH'S GYM | Fitness & Training Center</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Converted to a Dark/Black and Neon Green/Lime theme */
            --primary-color: #38b000; /* Neon Green/Lime for Accent */
            --secondary-color: #212529; /* Near black for main sections/text */
            --text-dark: #f8f9fa; /* Light text for dark backgrounds */
            --bg-light: #0d0d0d; /* Very Dark Grey/Black Background */
            --card-bg: #1a1a1a; /* Slightly lighter card background */
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light); 
            color: var(--text-dark); /* Ensure body text is light */
            padding-top: 106px; 
        }

        /* Custom Navbar Styling - Dark/Sleek */
        .navbar {
            background-color: var(--secondary-color); 
            box-shadow: 0 1px 10px rgba(0,0,0,0.5); 
        }
        .navbar-brand {
            color: var(--primary-color) !important;
            font-weight: 900; 
            font-size: 1.8rem;
        }
        .nav-link {
            color: var(--text-dark) !important;
        }
        .nav-link.active {
            border-bottom: 2px solid var(--primary-color);
        }

        /* Search Bar Styling - Changed to "Book Session" Button */
        .search-container {
            flex-grow: 1;
            max-width: 600px; 
        }
        .reserve-button {
            background-color: var(--primary-color);
            border-radius: 20px;
            color: var(--secondary-color); 
            border-color: var(--primary-color);
            font-weight: 800;
            padding: 8px 30px;
            transition: all 0.2s;
        }
        .reserve-button:hover {
            background-color: #2a8a00;
            border-color: #2a8a00;
            color: var(--secondary-color);
        }

        /* New Styling for the Taller Navbar */
        .navbar-top-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-bottom: 0.5rem;
            width: 100%;
        }
        
        /* Mobile Search Bar Style Update */
        .mobile-search-bar {
            background-color: var(--secondary-color) !important;
            box-shadow: 0 1px 5px rgba(0,0,0,0.5) !important;
        }
        .mobile-search-bar .btn-primary {
            background-color: var(--primary-color) !important;
            border-color: var(--primary-color) !important;
            color: var(--secondary-color) !important;
        }
        .mobile-search-bar .btn-secondary {
            background-color: var(--primary-color) !important; 
            border-color: var(--primary-color) !important;
            color: var(--secondary-color) !important;
        }

        /* Fix for mobile hamburger menu visibility */
        .navbar-toggler {
            border-color: var(--primary-color);
            padding: 4px 8px;
        }
        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%2856, 176, 0, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
            width: 1.2em;
            height: 1.2em;
        }

        /* Hero Carousel Styling */
        #heroCarousel {
            box-shadow: 0 10px 25px rgba(0,0,0,0.5); 
            border-radius: 12px;
            overflow: hidden;
        }
        .carousel-item img {
            height: 450px; 
            object-fit: cover;
            filter: brightness(0.7); /* Darken images for a moodier look */
        }
        .carousel-item .carousel-caption {
            background-color: rgba(0, 0, 0, 0.6); 
            padding: 20px;
            border-radius: 8px;
        }
        @media (min-width: 768px) {
            .carousel-item img {
                height: 550px;
            }
        }

        /* Membership Card Styling - More premium look */
        .product-card {
            border: 1px solid var(--primary-color); /* Neon border */
            border-radius: 12px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4); 
            position: relative; 
            overflow: hidden;
            background-color: var(--card-bg); /* Dark card background */
            height: 100%;
            color: var(--text-dark);
        }
        .product-card:hover {
            transform: translateY(-5px); 
            box-shadow: 0 15px 30px rgba(0,0,0,0.6);
        }
        .product-card img {
            border-radius: 12px 12px 0 0;
            height: 250px; 
            object-fit: cover;
            transition: transform 0.3s ease;
            filter: brightness(0.8);
        }
        .product-card:hover img {
            transform: scale(1.05); 
        }
        .product-price {
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary-color);
        }
        .card-text {
            color: #ccc; /* Light gray text for readability */
        }

        /* Button Styling - Using the new primary color */
        .btn-buy {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            color: var(--secondary-color);
            font-weight: 800;
            transition: all 0.2s;
            border-radius: 8px;
            padding: 8px 15px;
        }
        .btn-buy:hover {
            background-color: #2a8a00;
            border-color: #2a8a00;
            color: var(--secondary-color);
        }
        .btn-outline-secondary {
            border-color: var(--primary-color) !important;
            color: var(--primary-color) !important;
            background-color: transparent !important;
        }
        .btn-outline-secondary:hover {
            background-color: var(--primary-color) !important;
            color: var(--secondary-color) !important;
        }
        .btn-dark { /* Used for the VIP Club signup button */
            background-color: var(--text-dark) !important;
            border-color: var(--text-dark) !important;
            color: var(--secondary-color) !important;
        }
        .btn-dark:hover {
            background-color: #ccc !important;
            border-color: #ccc !important;
        }

        /* Footer Styling - Retained dark background for contrast, but adjusted text */
        footer {
            background-color: var(--secondary-color);
            color: var(--text-dark); 
        }
        footer a {
            color: var(--primary-color) !important; 
            text-decoration: none;
        }
        footer a:hover {
            color: #ffffff !important; 
        }

        /* Utility classes - Refined Section Title */
        .section-title {
            font-weight: 800;
            color: var(--primary-color); /* Primary color for titles */
            margin-bottom: 2.5rem;
            border-bottom: 4px solid var(--primary-color);
            display: inline-block;
            padding-bottom: 8px;
            font-size: 2.5rem; 
        }

        /* Why Choose Us Icons - New style for value props */
        .feature-icon-box {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            transition: all 0.3s ease;
            height: 100%;
            border: 1px solid var(--primary-color);
        }
        .feature-icon-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.6);
        }
        .feature-icon-box i {
            color: var(--primary-color); 
        }
        .feature-icon-box h5 {
            color: var(--text-dark);
        }
        .feature-icon-box p {
            color: #aaa !important;
        }


        /* Category Cards - New Circle Image Style */
        .category-card {
            border: none;
            border-radius: 12px;
            background-color: var(--card-bg);
            box-shadow: 0 4px 15px rgba(0,0,0,0.4);
            transition: transform 0.3s;
            padding: 15px; 
        }
        .category-card:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.6);
        }
        .category-icon-bg {
            width: 90px;
            height: 90px;
            background-color: var(--secondary-color); 
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 10px;
            border: 3px solid var(--primary-color); 
        }
        .category-icon-bg i {
            font-size: 3rem;
            color: var(--primary-color);
        }
        .category-card h5 {
            color: var(--text-dark);
        }
        .category-card a {
            color: #aaa !important;
        }
        
        /* Cart Modal (Membership/Plan Purchase) Styling - Renamed to Purchase Modal */
        .cart-item {
            border-bottom: 1px solid #333;
            padding: 10px 0;
            color: var(--secondary-color); /* Light text inside modal, assuming default light modal */
        }
        .modal-content {
            background-color: #f8f9fa; /* Keep modal content light for standard Bootstrap contrast */
            color: var(--secondary-color);
        }
        .modal-header.bg-primary {
            background-color: var(--primary-color) !important;
            color: var(--secondary-color) !important;
        }
        .modal-header.bg-secondary {
            background-color: var(--secondary-color) !important;
            color: var(--text-dark) !important;
        }

        /* === Review Card Styles (ADVANCED) === */
        .review-card {
            background-color: var(--card-bg);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            border-left: 5px solid var(--primary-color); 
            height: 100%;
            transition: transform 0.3s ease, box-shadow 0.3s ease; 
            color: var(--text-dark);
        }
        .review-card:hover { 
             transform: translateY(-3px);
             box-shadow: 0 10px 20px rgba(0,0,0,0.6);
        }
        .review-rating i {
            color: var(--primary-color); 
            margin-right: 2px;
        }
        .review-avatar { 
            border: 2px solid var(--primary-color);
            background-color: var(--secondary-color);
        }
        .review-author-meta {
            font-size: 0.9rem;
            color: var(--primary-color);
            font-weight: 600;
        }
        .review-date {
            font-size: 0.75rem;
            color: #aaa;
        }
        .review-product-tag {
            background-color: var(--secondary-color) !important;
            color: var(--primary-color) !important;
        }


        /* === Story Timeline Styles === */
        .story-milestone-icon {
            background-color: var(--primary-color);
            border: 4px solid var(--card-bg); 
        }
        .story-title {
            color: var(--primary-color);
        }
        .story-milestone p {
            color: #aaa !important;
        }
        /* Adjusted dark background content block */
        #story-timeline-section .rounded-3 {
            background-color: var(--card-bg) !important;
        }
        #story-timeline-section p.lead {
            color: var(--text-dark) !important;
        }

        /* Contact Section */
        #contactSection .rounded-3 {
            background-color: var(--card-bg) !important;
            color: var(--text-dark);
        }
        #contactSection h4 {
            color: var(--primary-color) !important;
        }
        #contactSection label {
            color: var(--text-dark);
        }
        #contactSection .form-control {
            background-color: #333;
            border-color: #555;
            color: var(--text-dark);
        }


        /* Daily Deals/Special */
        #dailyDealsSection {
            background-color: var(--secondary-color) !important;
            border-top: 1px solid var(--primary-color) !important;
            border-bottom: 1px solid var(--primary-color) !important;
        }
        #dailyDealsSection .card {
            background-color: var(--card-bg) !important;
            color: var(--text-dark);
            border: 1px solid var(--primary-color);
        }
        #dailyDealsSection .card-text {
            color: #aaa;
        }

        /* Timer in Primary Color */
        #countdownTimer {
            color: var(--primary-color) !important;
        }

        /* VIP Diner Club Section */
        .bg-primary {
            background-color: var(--primary-color) !important;
        }
        .text-secondary {
            color: var(--secondary-color) !important;
        }
        
        /* Map Section - REMOVED DARK FILTER FOR BRIGHT LOOK */
        /* .ratio iframe {
             filter: grayscale(100%) invert(92%) contrast(83%);
        } */
        
        /* Larger footer icons for YouTube, GitHub in social media section only */
        .footer-icon-lg {
            font-size: 2.5rem !important;
        }

        /* Make UPI icon smaller on mobile only */
        @media (max-width: 768px) {
            .upi-icon-mobile {
                font-size: 1.25rem !important;
            }
        }

    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container-fluid flex-column">
            
            <div class="navbar-top-row d-flex">
                
                <a class="navbar-brand me-0" href="#">
                    <img src="https://placehold.co/100x40/38b000/212529?text=HARSH'S+GYM" alt="Harsh's Gym Logo" height="40">
                    <span class="d-none d-md-inline ms-2">HARSH'S GYM</span>
                </a>

                <div class="d-none d-lg-flex search-container mx-auto">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search classes or trainers (e.g., Yoga, Harsh)" id="searchInput" aria-label="Search" onkeypress="if(event.key === 'Enter') searchProducts()">
                        <button class="btn btn-primary" style="background-color: var(--primary-color); border-color: var(--primary-color); color: var(--secondary-color);" type="button" onclick="searchProducts()">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                
                <div class="d-flex align-items-center">
                    <button class="btn btn-sm reserve-button me-3 d-none d-lg-block" type="button" data-bs-toggle="modal" data-bs-target="#reservationModal">
                        <i class="bi bi-calendar-check me-1"></i> Book Session
                    </button>

                    <button class="btn btn-outline-secondary position-relative me-3" data-bs-toggle="modal" data-bs-target="#cartModal" title="View Purchase Plan">
                        <i class="bi bi-cart3 fs-5" style="color: var(--primary-color);"></i>
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="cartCount">
                            0
                            <span class="visually-hidden">items in cart</span>
                        </span>
                    </button>

                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                </div>
            </div>

            <div class="collapse navbar-collapse w-100 justify-content-center" id="navbarNav">
                <ul class="navbar-nav mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active fw-bold" aria-current="page" href="#">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#productSection">Memberships</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#categorySection">Classes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#dailyDealsSection">Trial Offer</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#story-timeline-section">Our Journey</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contactSection">Contact & Trial</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    
    <section class="container-fluid d-lg-none py-2 fixed-top mobile-search-bar" style="top: 56px;">
        <div class="input-group">
            <input type="text" class="form-control" placeholder="Search Classes/Trainers" id="mobileSearchInput" aria-label="Search" onkeypress="if(event.key === 'Enter') searchProductsFromMobile()">
            <button class="btn btn-primary" type="button" onclick="searchProductsFromMobile()">
                <i class="bi bi-search"></i>
            </button>
            <button class="btn btn-primary ms-2" type="button" data-bs-toggle="modal" data-bs-target="#reservationModal">
                <i class="bi bi-calendar-check me-1"></i> Book
            </button>
        </div>
    </section>

    <main>
        <section class="container mb-5" style="margin-top: 20px;">
            <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="https://placehold.co/1200x550/212529/38b000?text=State-of-the-Art+Gym+Floor" class="d-block w-100" alt="Gym Interior with Equipment">
                        <div class="carousel-caption d-none d-md-block">
                            <h3 class="fw-bold">Achieve Your Fitness Goals</h3>
                            <p>State-of-the-art equipment, professional trainers, and motivating community.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://placehold.co/1200x550/38b000/212529?text=Personal+Training+Session" class="d-block w-100" alt="Personal Trainer Working with Client">
                        <div class="carousel-caption d-none d-md-block">
                            <h3 class="fw-bold">One-on-One Personal Training</h3>
                            <p>Customized workout plans designed for fast and effective results.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="https://placehold.co/1200x550/212529/38b000?text=Group+Fitness+Class" class="d-block w-100" alt="Group of people doing a fitness class">
                        <div class="carousel-caption d-none d-md-block">
                            <h3 class="fw-bold">Energetic Group Classes</h3>
                            <p>From high-intensity HIIT to relaxing Yoga, we have a class for everyone.</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </section>

        <section class="container mb-5" id="productSection">
            <div class="text-center">
                <h2 class="section-title">Our Membership Plans</h2>
                <div id="filterStatus" class="mb-3 d-none">
                    <span class="badge bg-primary text-dark me-2" id="currentFilterText"></span>
                    <button class="btn btn-sm btn-outline-secondary" onclick="resetFilter()"><i class="bi bi-x-circle me-1"></i> View All Memberships</button>
                </div>
            </div>
            
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4" id="productRow1">
                </div>

            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mt-4" id="productRow2">
                </div>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4 mt-4" id="productRow3">
                </div>
            </section>

        <section class="py-5 mb-5 shadow-lg" style="background-color: var(--card-bg);">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-title">Why Train at Harsh's Gym?</h2>
                </div>
                <div class="row text-center">
                    <div class="col-md-4 mb-4">
                        <div class="feature-icon-box">
                            <i class="bi bi-lightning-fill fs-1 mb-3"></i>
                            <h5 class="fw-bold">24/7 Access</h5>
                            <p class="text-muted">Workout whenever it fits your schedule, day or night.</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="feature-icon-box">
                            <i class="bi bi-person-fill-gear fs-1 mb-3"></i>
                            <h5 class="fw-bold">Certified Pro Trainers</h5>
                            <p class="text-muted">Expert guidance to maximize your progress and prevent injury.</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4">
                        <div class="feature-icon-box">
                            <i class="bi bi-diagram-3-fill fs-1 mb-3"></i>
                            <h5 class="fw-bold">Free Group Classes</h5>
                            <p class="text-muted">Unlimited access to our popular HIIT, Zumba, and Yoga sessions.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="container mb-5">
            <div class="text-center">
                <h2 class="section-title">Success Stories & Reviews</h2>
            </div>
            <div class="row g-4">
                
                <div class="col-md-4">
                    <div class="review-card">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://placehold.co/50x50/38b000/212529?text=R" class="review-avatar me-3" alt="Reviewer Avatar">
                            <div>
                                <span class="review-author-meta">Rahul K.</span> <span class="text-muted small">from Agra</span>
                                <div class="review-rating mb-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                                </div>
                                <span class="review-date">Reviewed 3 days ago</span>
                            </div>
                        </div>
                        <p class="mb-2 fst-italic">"The personal training program helped me lose 10kg in 3 months. Harsh is an amazing, motivating trainer!"</p>
                        <span class="review-product-tag">Plan: Platinum 12 Months</span>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="review-card">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://placehold.co/50x50/212529/38b000?text=P" class="review-avatar me-3" alt="Reviewer Avatar">
                            <div>
                                <span class="review-author-meta">Priya S.</span> <span class="text-muted small">from Mumbai</span>
                                <div class="review-rating mb-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i>
                                </div>
                                <span class="review-date">Reviewed 1 week ago</span>
                            </div>
                        </div>
                        <p class="mb-2 fst-italic">"Fantastic facility and the best Zumba classes in the city! Always clean and all the staff are super friendly."</p>
                        <span class="review-product-tag">Class: Zumba Gold</span>
                    </div>
                </div>

                <div class="col-md-4">
                    <div class="review-card">
                        <div class="d-flex align-items-center mb-3">
                            <img src="https://placehold.co/50x50/38b000/212529?text=J" class="review-avatar me-3" alt="Reviewer Avatar">
                            <div>
                                <span class="review-author-meta">Jatin V.</span> <span class="text-muted small">from Delhi</span>
                                <div class="review-rating mb-1">
                                    <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-half"></i>
                                </div>
                                <span class="review-date">Reviewed 2 weeks ago</span>
                            </div>
                        </div>
                        <p class="mb-2 fst-italic">"Great equipment selection. Only small downside is it gets crowded after 7 PM, but still a great place to lift."</p>
                        <span class="review-product-tag">Plan: Monthly Flex</span>
                    </div>
                </div>

            </div>
        </section>
        <section class="container mb-5" id="story-timeline-section">
            <div class="text-center">
                <h2 class="section-title">Our Fitness Journey: Born to Transform</h2>
            </div>
            <div class="row align-items-center p-4 rounded-3 shadow-sm">
                <div class="col-md-5 mb-4 mb-md-0">
                    <img src="https://placehold.co/800x450/38b000/212529?text=Harsh's+Gym+Free+Weights" class="img-fluid rounded-3 shadow-lg" alt="Our Fitness Journey">
                </div>
                <div class="col-md-7">
                    <p class="lead text-muted mb-4">Harsh's Gym started with a single vision: to create a motivating and inclusive fitness hub. Here are the key milestones that define our journey:</p>

                    <div class="story-milestone">
                        <div class="story-milestone-icon"></div>
                        <h5 class="story-title">2018: Grand Opening & First Challenge</h5>
                        <p class="text-muted small mb-1">We opened our doors in Agra, focusing on strength training and launched our first successful 30-day transformation challenge.</p>
                    </div>

                    <div class="story-milestone">
                        <div class="story-milestone-icon"></div>
                        <h5 class="story-title">2021: Class Expansion & New Trainers</h5>
                        <p class="text-muted small mb-1">Hired two new certified Yoga and HIIT instructors, introducing 10 new weekly group classes.</p>
                    </div>

                    <div class="story-milestone">
                        <div class="story-milestone-icon"></div>
                        <h5 class="story-title">2024: 24/7 Access & Second Location</h5>
                        <p class="text-muted small mb-1">Transitioned to 24/7 member access and successfully opened our second, larger branch in Delhi with a dedicated functional area.</p>
                    </div>
                    
                    <a href="#story-timeline-section" class="btn btn-outline-secondary mt-3">Read Full Story</a>
                </div>
            </div>
        </section>
        <section class="container mb-5" id="contactSection">
            <div class="text-center">
                <h2 class="section-title">Contact & Free Trial</h2>
            </div>
            <div class="row align-items-center p-4 rounded-3 shadow-sm">
                <div class="col-md-7 mb-4 mb-md-0">
                    <form onsubmit="event.preventDefault(); showContactConfirmation();">
                        <h4 class="mb-3">Request a Free 3-Day Trial Pass</h4>
                        <div class="mb-3">
                            <label for="contactName" class="form-label">Full Name</label>
                            <input type="text" class="form-control" id="contactName" required>
                        </div>
                        <div class="mb-3">
                            <label for="contactEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="contactEmail" required>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="reservationDate" class="form-label">Preferred Start Date</label>
                                <input type="date" class="form-control" id="reservationDate" required>
                            </div>
                            <div class="col-md-6">
                                <label for="reservationTime" class="form-label">Preferred Time (e.g., 6:00 PM)</label>
                                <input type="time" class="form-control" id="reservationTime" value="18:00" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="contactMessage" class="form-label">Current Fitness Goal</label>
                            <textarea class="form-control" id="contactMessage" rows="2" placeholder="e.g., Build muscle, lose weight, increase flexibility." required></textarea>
                        </div>
                        <button type="submit" class="btn btn-buy btn-md">Request Free Trial</button>
                    </form>
                </div>
                <div class="col-md-5">
                    <img src="https://placehold.co/800x450/212529/38b000?text=Functional+Training+Area" class="img-fluid rounded-3 shadow-lg" alt="Functional training area with turf">
                </div>
            </div>
        </section>

        <section class="py-5 mb-5 shadow-lg bg-primary">
            <div class="container text-center">
                <h3 class="display-5 fw-bold mb-3 text-secondary">Join Our VIP Athlete Club!</h3>
                <p class="lead mb-4 text-secondary">Sign up today for a **FREE 30-Minute PT Session** and exclusive early access to new classes.</p>
                <button class="btn btn-dark btn-lg shadow-lg" data-bs-toggle="modal" data-bs-target="#signUpModal">
                    Sign Up Now <i class="bi bi-arrow-right-circle-fill ms-2"></i>
                </button>
            </div>
        </section>

        <section class="container mb-5" id="categorySection">
            <div class="text-center">
                <h2 class="section-title">Browse Our Group Classes</h2>
            </div>
            <div class="row g-4 text-center">
                
                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-fire"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Cardio & HIIT</h5>
                        <a href="#" onclick="filterProductsByCategory('cardio')" class="stretched-link text-decoration-none small">High Intensity Training</a>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-hand-thumbs-up-fill"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Strength Training</h5>
                        <a href="#" onclick="filterProductsByCategory('strength')" class="stretched-link text-decoration-none small">Lifting & Power</a>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-star-fill"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Mind/Body</h5>
                        <a href="#" onclick="filterProductsByCategory('yoga')" class="stretched-link text-decoration-none small">Yoga, Pilates & Stretch</a>
                    </div>
                </div>

                <div class="col-6 col-md-3">
                    <div class="card category-card h-100">
                        <div class="category-icon-bg">
                            <i class="bi bi-shield-fill-plus"></i>
                        </div>
                        <h5 class="fw-bold mt-2">Specialty</h5>
                        <a href="#" onclick="filterProductsByCategory('specialty')" class="stretched-link text-decoration-none small">Functional & Combat</a>
                    </div>
                </div>

            </div>
        </section>
        
        <section class="py-5 mb-5 shadow-lg" id="dailyDealsSection">
            <div class="container text-center">
                <h2 class="section-title">24-Hour Trial Offer!</h2>
                <p class="lead text-muted">Sign up now and get your first **7 days for only ₹199**! Offer ends in:</p>
                
                <div class="d-flex justify-content-center gap-4 mb-4 fs-1 fw-bold text-primary" id="countdownTimer">
                    <span>00</span>h:<span>00</span>m:<span>00</span>s
                </div>

                <div class="card p-3 shadow-lg mx-auto" style="max-width: 700px;">
                    <div class="row g-0">
                        <div class="col-md-4">
                            <img src="https://placehold.co/400x400/212529/38b000?text=Trial+Membership+Photo" class="img-fluid rounded-start h-100 object-fit-cover" alt="Daily Deal Product">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body text-start">
                                <span class="badge bg-danger mb-2 fs-6">LIMITED TIME</span>
                                <h5 class="card-title fw-bold fs-3" style="color: var(--primary-color);">1-Week Starter Pass</h5>
                                <p class="card-text text-muted">Includes unlimited access to all gym floor, locker room, and one group class per day.</p>
                                <div class="d-flex align-items-center mb-3">
                                    <h4 class="fw-bolder me-3" style="color: var(--primary-color);">₹199</h4>
                                    <s class="text-danger">₹999</s>
                                </div>
                                <button class="btn btn-buy btn-lg w-100" onclick="addToCart(13)">
                                    Get Your Pass Now <i class="bi bi-arrow-right-circle-fill ms-2"></i>
                                </button>
                                <p class="card-text"><small class="text-success fw-bold mt-2 d-block"><i class="bi bi-check-circle-fill me-1"></i> No commitment, cancel anytime!</small></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="container mb-5">
            <div class="text-center">
                <h2 class="section-title">Find Us: Agra, Uttar Pradesh</h2>
            </div>
            <div class="row justify-content-center">
                <div class="col-12 col-lg-8"> <div class="ratio ratio-16x9 rounded-3 shadow-lg">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d113645.71764627441!2d77.93046252999335!3d27.1751447036495!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39747c385900508f%3A0xc6a882d9217b1836!2sAgra%2C%20Uttar%20Pradesh!5e0!3m2!1sen!2sin!4v1687000000000!5m2!1sen!2sin" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade"
                            title="Map of Agra, Uttar Pradesh">
                        </iframe>
                    </div>
                </div>
            </div>
        </section>

        <section class="container mb-5" id="faqSection">
            <div class="text-center">
                <h2 class="section-title">Frequently Asked Questions</h2>
            </div>
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            Can I bring a guest with my membership?
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Only Platinum and Gold membership plans include one free guest pass per month. All other guests must purchase a day pass for ₹250.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            What are your hours of operation?
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            We are a **24/7 facility** for all members. Our front desk is staffed from **6:00 AM to 10:00 PM** on weekdays, and **8:00 AM to 8:00 PM** on weekends.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Do you offer personal training packages?
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            Yes, we offer 5, 10, and 20-session packages with our certified trainers. Details are available at the front desk or via the contact form.
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="py-5 footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5>Harsh's Gym</h5>
                    <ul class="nav flex-column">
                        <li class="nav-item mb-2"><a href="#" class="nav-link p-0">Home</a></li>
                        <li class="nav-item mb-2"><a href="#productSection" class="nav-link p-0">View All Plans</a></li>
                        <li class="nav-item mb-2"><a href="#story-timeline-section" class="nav-link p-0">Our Trainers</a></li>
                        <li class="nav-item mb-2"><a href="#faqSection" class="nav-link p-0">FAQs</a></li>
                    </ul>
                </div>

                <div class="col-md-4 mb-3">
                    <h5>Classes & Booking</h5>
                    <ul class="nav flex-column">
                        <li class="nav-item mb-2"><a href="#contactSection" onclick="scrollToElement('contactSection')" class="nav-link p-0">Book a Free Trial</a></li>
                        <li class="nav-item mb-2"><a href="#faqSection" onclick="scrollToElement('faqSection', 'headingTwo')" class="nav-link p-0">Check Facility Hours</a></li>
                        <li class="nav-item mb-2"><a href="#" data-bs-toggle="modal" data-bs-target="#trackOrderModal" class="nav-link p-0">View Class Schedule</a></li>
                    </ul>
                </div>

                <div class="col-md-4 mb-3">
                    <h5>Accepted Payments</h5>
                    <p>We accept all major cards and digital wallets:</p>
                    <div class="d-flex gap-3 fs-3"> <i class="bi bi-paypal" title="PayPal"></i>
                        <i class="bi bi-google" title="Google Pay"></i>
                        <span class="upi-icon-mobile" style="font-size: 1.75rem; font-weight: bold; color: var(--text-dark);" title="UPI">UPI</span> <i class="bi bi-credit-card-fill" title="Credit/Debit Cards"></i>
                    </div>
                </div>
            </div>

            <div class="d-flex flex-column flex-sm-row justify-content-between py-4 my-4 border-top" style="border-color: var(--primary-color) !important;">
                <p>© 2024 Harsh's Gym. All rights reserved.</p>
                <ul class="list-unstyled d-flex fs-3"> <li class="ms-3"><a class="link-light" href="https://instagram.com/harshs.gym" target="_blank" aria-label="Follow us on Instagram"><i class="bi bi-instagram-fill"></i></a></li>
                    <li class="ms-3"><a class="link-light" href="https://facebook.com/harshs.gym" target="_blank" aria-label="Follow us on Facebook"><i class="bi bi-facebook-fill"></i></a></li>
                    <li class="ms-3"><a class="link-light footer-icon-lg" href="https://google.com/search?q=Harsh's+Gym" target="_blank" aria-label="Find us on Google"><i class="bi bi-google"></i></a></li>
                    <li class="ms-3"><a class="link-light footer-icon-lg" href="https://youtube.com/harshs.gym" target="_blank" aria-label="Subscribe to us on YouTube"><i class="bi bi-youtube"></i></a></li>
                    <li class="ms-3"><a class="link-light footer-icon-lg" href="https://github.com/harshs-gym" target="_blank" aria-label="View our code on GitHub"><i class="bi bi-github"></i></a></li>
                    </ul>
                </div>
        </div>
    </footer>

    <div class="modal fade" id="reservationModal" tabindex="-1" aria-labelledby="reservationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-secondary">
                    <h5 class="modal-title" id="reservationModalLabel"><i class="bi bi-calendar-check me-2"></i>Book a PT Session</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form onsubmit="event.preventDefault(); showReservationConfirmation();">
                        <div class="mb-3">
                            <label for="resName" class="form-label">Name</label>
                            <input type="text" class="form-control" id="resName" required>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="resDate" class="form-label">Date</label>
                                <input type="date" class="form-control" id="resDate" required>
                            </div>
                            <div class="col-md-6">
                                <label for="resTime" class="form-label">Time</label>
                                <input type="time" class="form-control" id="resTime" value="18:00" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="resGuests" class="form-label">Type of Session</label>
                            <select class="form-select" id="resGuests" required>
                                <option value="Personal Training">Personal Training</option>
                                <option value="Introductory Tour">Introductory Tour</option>
                                <option option value="Nutrition Consult">Nutrition Consult</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-buy w-100">Confirm Booking</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="trackOrderModal" tabindex="-1" aria-labelledby="trackOrderModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-secondary text-white">
                    <h5 class="modal-title" id="trackOrderModalLabel"><i class="bi bi-clock me-2"></i>Weekly Class Schedule</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form onsubmit="event.preventDefault(); showTrackingResults();">
                        <div class="mb-3">
                            <label for="trackingId" class="form-label">Enter Day (e.g., Monday, Tuesday)</label>
                            <input type="text" class="form-control" id="trackingId" value="Monday" required>
                            <div class="form-text">Enter the day to see the class schedule.</div>
                        </div>
                        <button type="submit" class="btn btn-buy w-100">Check Schedule</button>
                    </form>
                    
                    <div id="trackingResult" class="mt-4 p-3 border rounded-3 d-none">
                        <h6 class="text-success fw-bold">Schedule for Monday:</h6>
                        <p class="mb-1"><strong>7:00 AM:</strong> <span class="badge bg-success">HIIT (Studio 1)</span></p>
                        <p class="mb-1"><strong>10:00 AM:</strong> <span class="badge bg-info">Gentle Yoga (Studio 2)</span></p>
                        <p class="mb-1"><strong>6:00 PM:</strong> <span class="badge bg-primary">Power Lifting Fundamentals (Gym Floor)</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="signUpModal" tabindex="-1" aria-labelledby="signUpModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-primary text-secondary">
                    <h5 class="modal-title" id="signUpModalLabel"><i class="bi bi-star-fill me-2"></i>Join VIP Athlete Club!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="lead">Unlock a **FREE 30-Minute PT Session** and exclusive perks instantly.</p>
                    <form onsubmit="event.preventDefault(); showRewardsConfirmation();">
                        <div class="mb-3">
                            <label for="signUpName" class="form-label">Name</label>
                            <input type="text" class="form-control" id="signUpName" required>
                        </div>
                        <div class="mb-3">
                            <label for="signUpEmail" class="form-label">Email address</label>
                            <input type="email" class="form-control" id="signUpEmail" required>
                            <div class="form-text">We'll never share your email with anyone else.</div>
                        </div>
                        <button type="submit" class="btn btn-buy w-100">Claim My Free Session</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="rewardsConfirmationModal" tabindex="-1" aria-labelledby="rewardsConfirmationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="rewardsConfirmationModalLabel">Welcome to the Athlete Club!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="fs-5 fw-bold">Success! You are now a VIP. Check your email for instructions on booking your <span class="text-primary">FREE PT Session</span>.</p>
                    <p>We'll notify you about new classes and special events.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel"><i class="bi bi-cart3 me-2"></i>Your Purchase Plan</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="cartItemsContainer">
                    <p class="text-center text-muted" id="emptyCartMessage">Your cart is empty. Please add a membership or plan.</p>
                </div>
                
                <div class="modal-footer d-block">
                    
                    <div class="mb-3 p-3 rounded-3" style="background-color: #f0f0f0;">
                        <h6 class="mb-2 fw-bold text-dark">Select Payment Term:</h6>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="orderMethod" id="orderDelivery" value="Monthly Subscription" checked>
                            <label class="form-check-label" for="orderDelivery">
                                <i class="bi bi-repeat me-1"></i> Monthly Subscription
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="orderMethod" id="orderPickup" value="One-Time Annual Payment">
                            <label class="form-check-label" for="orderPickup">
                                <i class="bi bi-wallet-fill me-1"></i> One-Time Annual Payment (Save 15%)
                            </label>
                        </div>
                    </div>

                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="mb-0">Total:</h5>
                        <h4 class="mb-0 text-success" id="cartTotal">₹0.00</h4>
                    </div>
                    <button type="button" class="btn btn-buy w-100" onclick="proceedToCheckout()">Proceed to Payment</button>
                </div>

            </div>
        </div>
    </div>
    
    <div class="modal fade" id="contactConfirmationModal" tabindex="-1" aria-labelledby="contactConfirmationModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="contactConfirmationModalLabel">Trial Pass Requested!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    Thank you for requesting your Free Trial Pass at Harsh's Gym. We will process your request and send your pass details via email shortly!
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="paymentSuccessModal" tabindex="-1" aria-labelledby="paymentSuccessModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-success text-white">
                    <h5 class="modal-title" id="paymentSuccessModalLabel"><i class="bi bi-check-circle-fill me-2"></i>Purchase Complete!</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="fs-5 fw-bold" id="paymentSummaryMessage"></p>
                    <p>Welcome to Harsh's Gym! Your membership is active. Check your email for your access code and next steps.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Start Training</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <script>
        // Use an IIFE for encapsulation
        (function() {
            // Mock Product Data - UPDATED WITH GYM PLANS & CLASSES
            const MOCK_PRODUCTS = [
                { id: 1, name: "Platinum Membership", price: 6999, image: "https://placehold.co/600x400/38b000/212529?text=Platinum+Member", category: "membership" },
                { id: 2, name: "Gold Membership (Annual)", price: 4999, image: "https://placehold.co/600x400/212529/38b000?text=Gold+Member", category: "membership" },
                { id: 3, name: "Monthly Flex Pass", price: 1499, image: "https://placehold.co/600x400/38b000/212529?text=Monthly+Pass", category: "membership" },
                { id: 4, name: "10 PT Sessions Package", price: 12999, image: "https://placehold.co/600x400/212529/38b000?text=Personal+Training", category: "specialty" },
                { id: 5, name: "Beginner's Power Yoga", price: 0, image: "https://placehold.co/600x400/38b000/212529?text=Power+Yoga", category: "yoga" }, 
                { id: 6, name: "Functional HIIT Class", price: 0, image: "https://placehold.co/600x400/212529/38b000?text=HIIT+Class", category: "cardio" },
                { id: 7, name: "Zumba Dance Fitness", price: 0, image: "https://placehold.co/600x400/38b000/212529?text=Zumba+Class", category: "cardio" },
                { id: 8, name: "Advanced Strength & Power", price: 0, image: "https://placehold.co/600x400/212529/38b000?text=Strength+Training", category: "strength" },
                { id: 9, name: "Intro to Calisthenics", price: 0, image: "https://placehold.co/600x400/38b000/212529?text=Calisthenics", category: "strength" },
                { id: 10, name: "1-Week Starter Pass", price: 199, image: "https://placehold.co/400x400/212529/38b000?text=Trial+Pass", category: "specialty" },
                { id: 11, name: "Kids' Combat Fitness", price: 0, image: "https://placehold.co/600x400/38b000/212529?text=Kids+Class", category: "specialty" }, 
                { id: 12, name: "Nutrition Plan Consult", price: 999, image: "https://placehold.co/600x400/212529/38b000?text=Nutrition+Consult", category: "specialty" }, 
                { id: 13, name: "7-Day Trial Offer", price: 199, image: "https://placehold.co/400x400/212529/38b000?text=Trial+Membership", category: "membership", isDeal: true}, 
            ];

            let cart = []; // The state for the purchase basket (only 1 item allowed for simplicity)

            // DOM Elements (fetched once on load)
            const productRow1 = document.getElementById('productRow1');
            const productRow2 = document.getElementById('productRow2');
            const productRow3 = document.getElementById('productRow3');
            const cartCountElement = document.getElementById('cartCount');
            const cartItemsContainer = document.getElementById('cartItemsContainer');
            const cartTotalElement = document.getElementById('cartTotal');
            const emptyCartMessage = document.getElementById('emptyCartMessage');
            const filterStatusElement = document.getElementById('filterStatus');
            const currentFilterTextElement = document.getElementById('currentFilterText');
            
            // ==================== UTILITY FUNCTIONS ====================

            // Function to show a simplified reservation confirmation (PT Session/Tour Booking)
            window.showReservationConfirmation = () => {
                const name = document.getElementById('resName').value;
                const date = document.getElementById('resDate').value;
                const time = document.getElementById('resTime').value;
                const sessionType = document.getElementById('resGuests').value;

                if (name && date && time && sessionType) {
                    const reservationModalEl = document.getElementById('reservationModal');
                    const reservationModalInstance = bootstrap.Modal.getInstance(reservationModalEl) || new bootstrap.Modal(reservationModalEl);
                    reservationModalInstance.hide();
                    
                    const contactModalEl = document.getElementById('contactConfirmationModal');
                    const confirmationModal = new bootstrap.Modal(contactModalEl);
                    
                    // Repurpose the contact modal for reservation confirmation
                    document.getElementById('contactConfirmationModalLabel').textContent = `Booking Confirmed!`;
                    document.querySelector('#contactConfirmationModal .modal-header').classList.add('bg-success');
                    document.querySelector('#contactConfirmationModal .modal-header').classList.remove('bg-danger');

                    document.querySelector('#contactConfirmationModal .modal-body').innerHTML = `
                        <p class="mb-1">Hello, ${name}!</p>
                        <p class="mb-1">Your request for a <b>${sessionType}</b> on <b>${date}</b> at <b>${time}</b> has been received.</p>
                        <p class="fw-bold text-success">Our team will contact you shortly to confirm the trainer/tour guide.</p>
                    `;

                    confirmationModal.show();
                    
                    // Clear the quick reservation form
                    document.getElementById('resName').value = '';
                    document.getElementById('resDate').value = '';
                    document.getElementById('resTime').value = '18:00';
                    document.getElementById('resGuests').value = 'Personal Training'; // Reset to default
                }
            };
            
            // Re-purposed to show FREE TRIAL PASS confirmation
            window.showContactConfirmation = () => {
                const name = document.getElementById('contactName').value;
                const date = document.getElementById('reservationDate').value;

                if (name && date) {
                    const confirmationModal = new bootstrap.Modal(document.getElementById('contactConfirmationModal'));
                    confirmationModal.show();
                    
                    // Clear the form fields after showing confirmation
                    document.getElementById('contactName').value = '';
                    document.getElementById('contactEmail').value = '';
                    document.getElementById('contactMessage').value = '';
                    document.getElementById('reservationDate').value = '';
                    document.getElementById('reservationTime').value = '18:00';
                }
            };

            // Existing tracking results, but with class schedule info
            window.showTrackingResults = () => {
                const day = document.getElementById('trackingId').value.trim().toLowerCase();
                const resultDiv = document.getElementById('trackingResult');
                
                resultDiv.classList.remove('d-none');
                
                let schedule = {
                    'monday': `<h6 class="text-success fw-bold">Schedule for Monday:</h6>
                        <p class="mb-1"><strong>7:00 AM:</strong> <span class="badge bg-success">HIIT (Studio 1)</span></p>
                        <p class="mb-1"><strong>10:00 AM:</strong> <span class="badge bg-info">Gentle Yoga (Studio 2)</span></p>
                        <p class="mb-1"><strong>6:00 PM:</strong> <span class="badge bg-primary">Power Lifting Fundamentals (Gym Floor)</span></p>`,
                    'tuesday': `<h6 class="text-success fw-bold">Schedule for Tuesday:</h6>
                        <p class="mb-1"><strong>8:00 AM:</strong> <span class="badge bg-info">Pilates Core</span></p>
                        <p class="mb-1"><strong>7:00 PM:</strong> <span class="badge bg-success">Zumba Dance</span></p>
                        <p class="mb-1"><strong>8:00 PM:</strong> <span class="badge bg-primary">Advanced Strength</span></p>`,
                    'wednesday': `<h6 class="text-success fw-bold">Schedule for Wednesday:</h6>
                        <p class="mb-1"><strong>7:00 AM:</strong> <span class="badge bg-success">HIIT (Studio 1)</span></p>
                        <p class="mb-1"><strong>10:00 AM:</strong> <span class="badge bg-info">Beginner Yoga</span></p>`,
                    'thursday': `<h6 class="text-success fw-bold">Schedule for Thursday:</h6>
                        <p class="mb-1"><strong>8:00 AM:</strong> <span class="badge bg-info">Functional Training</span></p>
                        <p class="mb-1"><strong>7:00 PM:</strong> <span class="badge bg-success">Zumba Dance</span></p>`,
                    'friday': `<h6 class="text-success fw-bold">Schedule for Friday:</h6>
                        <p class="mb-1"><strong>6:00 PM:</strong> <span class="badge bg-warning text-dark">Open Gym Workout</span></p>`,
                    'saturday': `<h6 class="text-success fw-bold">Schedule for Saturday:</h6>
                        <p class="mb-1"><strong>9:00 AM:</strong> <span class="badge bg-primary">Specialty Workshop</span></p>
                        <p class="mb-1"><strong>11:00 AM:</strong> <span class="badge bg-info">Kids Fitness</span></p>`,
                    'sunday': `<h6 class="text-success fw-bold">Schedule for Sunday:</h6>
                        <p class="mb-1"><strong>9:00 AM:</strong> <span class="badge bg-info">Stretch & Mobility</span></p>`
                };
                
                if (schedule[day]) {
                    resultDiv.innerHTML = schedule[day];
                } else {
                    resultDiv.innerHTML = `
                        <h6 class="text-danger fw-bold">Schedule for ${day.charAt(0).toUpperCase() + day.slice(1)}:</h6>
                        <p class="mb-1"><strong>Status:</strong> <span class="badge bg-danger">No Group Classes Found</span></p>
                        <p class="mb-1">The gym floor is open 24/7. Check available days (Monday-Sunday).</p>
                    `;
                }
                
                document.getElementById('trackingId').value = day.charAt(0).toUpperCase() + day.slice(1);
            };
            
            window.scrollToElement = (elementId, accordionHeaderId = null) => {
                const element = document.getElementById(elementId);
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                    
                    if (accordionHeaderId) {
                        const headerElement = document.getElementById(accordionHeaderId);
                        if (headerElement) {
                            const button = headerElement.querySelector('button');
                            const collapseTargetId = button.getAttribute('data-bs-target');
                            const collapseElement = document.querySelector(collapseTargetId);
                            
                            if (collapseElement && !collapseElement.classList.contains('show')) {
                                const bsCollapse = new bootstrap.Collapse(collapseElement, { toggle: true });
                            }
                        }
                    }
                }
            };

            // ==================== MEMBERSHIP RENDERING ====================

            const renderProductCard = (product) => {
                const categoryDisplay = product.category === 'membership' ? 'Membership Plan' : 
                                        product.category === 'specialty' ? 'Special Plan/Package' :
                                        'Free Group Class';
                const buttonText = product.price > 0 ? 'Purchase Plan' : 'Book Class';
                const priceDisplay = product.price > 0 ? `₹${product.price}` : 'FREE';

                return `
                    <div class="col product-item" data-name="${product.name.toLowerCase()}" data-category="${product.category}">
                        <div class="card product-card shadow-sm">
                            <img src="${product.image}" class="card-img-top" alt="${product.name}">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">${product.name}</h5>
                                <p class="card-text text-muted">${categoryDisplay}</p>
                                <div class="mt-auto d-flex justify-content-between align-items-center">
                                    <span class="product-price">${priceDisplay}</span>
                                    <button class="btn btn-buy" onclick="addToCart(${product.id})">
                                        <i class="bi bi-cart-fill me-1"></i> ${buttonText}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            };

            const displayProducts = (productsToRender) => {
                productRow1.innerHTML = '';
                productRow2.innerHTML = '';
                productRow3.innerHTML = ''; 

                if (productsToRender.length === 0) {
                    productRow1.innerHTML = '<div class="col-12"><p class="text-center fs-4 text-danger">No memberships, plans, or classes found matching the section or search.</p></div>';
                    productRow2.innerHTML = '';
                    productRow3.innerHTML = '';
                    return;
                }
                
                const totalProducts = productsToRender.length;
                const itemsPerRow = 4;
                
                const row1End = Math.min(itemsPerRow, totalProducts);
                const row2End = Math.min(itemsPerRow * 2, totalProducts);
                const row3End = totalProducts;

                productsToRender.slice(0, row1End).forEach(p => {
                    productRow1.innerHTML += renderProductCard(p);
                });

                productsToRender.slice(row1End, row2End).forEach(p => {
                    productRow2.innerHTML += renderProductCard(p);
                });
                
                productsToRender.slice(row2End, row3End).forEach(p => {
                    productRow3.innerHTML += renderProductCard(p);
                });
            };
            
            // ==================== FILTERING FUNCTIONS (Made available globally) ====================

            window.filterProductsByCategory = (category) => {
                const filteredProducts = MOCK_PRODUCTS.filter(p => p.category === category.toLowerCase());
                
                displayProducts(filteredProducts);
                
                const categoryNames = {
                    'cardio': 'Cardio & HIIT Classes',
                    'strength': 'Strength Training Classes',
                    'yoga': 'Mind/Body Classes',
                    'specialty': 'Specialty Plans & Packages',
                    'membership': 'Membership Plans'
                };
                
                currentFilterTextElement.textContent = `Showing: ${categoryNames[category] || category.toUpperCase()}`;
                filterStatusElement.classList.remove('d-none');
                
                document.getElementById('productSection').scrollIntoView({ behavior: 'smooth' });
            };

            window.resetFilter = () => {
                displayProducts(MOCK_PRODUCTS.filter(p => p.category === 'membership' || p.category === 'specialty')); // Only show plans/packages on reset
                filterStatusElement.classList.add('d-none');
                
                document.getElementById('searchInput').value = '';
                document.getElementById('mobileSearchInput').value = '';
            };
            
            // ==================== SEARCH FUNCTIONALITY (Re-introduced) ====================

            window.searchProducts = () => {
                const query = document.getElementById('searchInput').value.toLowerCase().trim();
                performSearch(query);
            };

            window.searchProductsFromMobile = () => {
                const query = document.getElementById('mobileSearchInput').value.toLowerCase().trim();
                performSearch(query);
            };

            const performSearch = (query) => {
                if (query === "") {
                    resetFilter();
                    return;
                }
                
                const filteredProducts = MOCK_PRODUCTS.filter(p => 
                    p.name.toLowerCase().includes(query) || 
                    p.category.toLowerCase().includes(query)
                );
                
                displayProducts(filteredProducts);
                
                currentFilterTextElement.textContent = `Search results for: "${query}"`;
                filterStatusElement.classList.remove('d-none');
                
                document.getElementById('productSection').scrollIntoView({ behavior: 'smooth' });
            };


            // ==================== PURCHASE BASKET MODIFICATION FUNCTIONS (Made available globally) ====================

            const updateCartUI = () => {
                // Simplified: cart can only hold ONE item (a plan or package)
                const totalItems = cart.length; 
                cartCountElement.textContent = totalItems;
                
                cartItemsContainer.innerHTML = '';
                let totalAmount = 0;

                if (cart.length === 0) {
                    emptyCartMessage.style.display = 'block';
                } else {
                    emptyCartMessage.style.display = 'none';
                    
                    // Display only the single item (or first item for simplicity)
                    const item = cart[0];
                    totalAmount = item.price; // Base price

                    const itemHtml = `
                        <div class="cart-item d-flex justify-content-between align-items-center">
                            <div>
                                <h5 class="mb-1 fw-bold text-dark">${item.name}</h5>
                                <p class="mb-0 text-muted small">Type: ${item.category === 'membership' ? 'Membership/Trial' : 'Package'}</p>
                            </div>
                            <div class="d-flex align-items-center">
                                <button class="btn btn-sm btn-danger" onclick="removeFromCart(${item.id})" title="Remove Item">Remove</button>
                                <span class="fw-bold ms-3 fs-5 text-nowrap" style="min-width: 80px; text-align: right; color: var(--primary-color);">₹${item.price}</span>
                            </div>
                        </div>
                        <p class="text-danger small mt-2">Note: Annual payment may offer a discount (calculated at checkout).</p>
                    `;
                    cartItemsContainer.innerHTML += itemHtml;
                }

                cartTotalElement.textContent = `₹${totalAmount}`;
            };

            window.addToCart = (productId) => {
                const productToAdd = MOCK_PRODUCTS.find(p => p.id === productId);
                
                // Allow only one item in the cart for simplicity
                if (productToAdd) {
                    cart = [{ ...productToAdd, quantity: 1 }]; 
                }
                
                updateCartUI();
            };

            window.removeFromCart = (productId) => {
                cart = []; // Clear the cart
                updateCartUI();
            };
            
            // ==================== PURCHASE CHECKOUT (MOCK) ====================
            
            window.proceedToCheckout = () => {
                if (typeof bootstrap === 'undefined') return;

                if (cart.length === 0) {
                    const emptyCartModalEl = document.getElementById('contactConfirmationModal');
                    const emptyCartModal = new bootstrap.Modal(emptyCartModalEl);
                    
                    document.getElementById('contactConfirmationModalLabel').innerHTML = `<i class="bi bi-info-circle me-1"></i> Cart Empty`;
                    document.querySelector('#contactConfirmationModal .modal-header').classList.remove('bg-success');
                    document.querySelector('#contactConfirmationModal .modal-header').classList.add('bg-danger');
                    document.querySelector('#contactConfirmationModal .modal-body').innerHTML = '<p>Please add a membership or package to your cart before proceeding to payment.</p>';
                    emptyCartModal.show();
                    
                    // Reset modal content after a delay (to prevent conflict with showContactConfirmation)
                    setTimeout(() => {
                        document.getElementById('contactConfirmationModalLabel').innerHTML = `Trial Pass Requested!`;
                        document.querySelector('#contactConfirmationModal .modal-header').classList.remove('bg-danger');
                        document.querySelector('#contactConfirmationModal .modal-header').classList.add('bg-success');
                        document.querySelector('#contactConfirmationModal .modal-body').innerHTML = 'Thank you for requesting your Free Trial Pass at Harsh\'s Gym. We will process your request and send your pass details via email shortly!';
                    }, 1000); 

                    return; 
                }

                let subtotalAmount = cart[0].price;
                const orderMethod = document.querySelector('input[name="orderMethod"]:checked')?.value || 'Monthly Subscription';
                
                // Apply 15% annual discount only if item is a membership AND payment is annual
                if (cart[0].category === 'membership' && orderMethod === 'One-Time Annual Payment' && cart[0].id !== 13) {
                    // Assuming price is monthly for simplicity in UI, then multiplying by 12 and applying discount
                    let annualPrice = subtotalAmount * 12; 
                    subtotalAmount = Math.round(annualPrice * 0.85); 
                }

                const totalAmount = subtotalAmount;

                
                const cartModalEl = document.getElementById('cartModal');
                const cartModalInstance = bootstrap.Modal.getInstance(cartModalEl) || new bootstrap.Modal(cartModalEl);
                cartModalInstance.hide(); 

                const summaryMessage = document.getElementById('paymentSummaryMessage');
                summaryMessage.innerHTML = `Total Paid: <span class="text-success">₹${totalAmount}</span> for <b>${cart[0].name}</b> (${orderMethod}).`;

                const paymentSuccessModal = new bootstrap.Modal(document.getElementById('paymentSuccessModal'));
                paymentSuccessModal.show();

                cart = [];
                updateCartUI();
            };

            // ==================== FORM HANDLERS (Updated for Gym) ====================
            
            window.showRewardsConfirmation = () => {
                const name = document.getElementById('signUpName').value;
                const email = document.getElementById('signUpEmail').value;

                if (name && email) {
                    const signUpModalEl = document.getElementById('signUpModal');
                    const signUpModalInstance = bootstrap.Modal.getInstance(signUpModalEl) || new bootstrap.Modal(signUpModalEl);
                    signUpModalInstance.hide();

                    const confirmationModal = new bootstrap.Modal(document.getElementById('rewardsConfirmationModal'));
                    confirmationModal.show();
                    
                    document.getElementById('signUpName').value = '';
                    document.getElementById('signUpEmail').value = '';
                } 
            };
            
            // ==================== Countdown Timer Function (Uses simpler food-related time) ====================
            const startCountdown = () => {
                const endTime = new Date();
                endTime.setDate(endTime.getDate() + 1); 
                endTime.setHours(23, 59, 59, 0); 

                const updateTimer = () => {
                    const now = new Date().getTime();
                    const distance = endTime - now;

                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    const timerElement = document.getElementById("countdownTimer");
                    if (timerElement) {
                        if (distance < 0) {
                            clearInterval(x);
                            timerElement.innerHTML = "<span class='text-danger'>EXPIRED</span>";
                        } else {
                            timerElement.innerHTML = `
                                <span>${String(hours).padStart(2, '0')}</span>h:
                                <span>${String(minutes).padStart(2, '0')}</span>m:
                                <span>${String(seconds).padStart(2, '0')}</span>s
                            `;
                        }
                    }
                };

                updateTimer(); 
                const x = setInterval(updateTimer, 1000);
            };

            // Initial product display and cart UI update when the page loads
            window.onload = () => {
                // Filtered to show only membership plans by default
                displayProducts(MOCK_PRODUCTS.filter(p => p.category === 'membership')); 
                updateCartUI();
                startCountdown(); 
            };

        })(); 
    </script>
</body>
</html>